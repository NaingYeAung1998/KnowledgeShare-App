@{
    ViewData["Title"] = "Home Page";
}
<h3>Popular Channels</h3>
<hr />
<div class="row">
    @foreach (var channel in ViewBag.Channels)
    {
    <div class="col-md-4" style="height:500px;">
        <div style="float:left;padding-right:10px;"><h4><b>@channel.Name</b></h4></div>
        <div class="badge" style="background-color:darkslategrey;float:left"><h6>825 Follows</h6></div>
        <a href="/home/profiledetail?id=@channel.ID"><img width="100%" height="75%" src="~/images/Contributors/@channel.Avatar" /></a>
    </div>
    }
</div>
<hr />

<h3>Trending Videos</h3>
<hr />
<div class="row">
    @foreach (Post post in ViewBag.Posts)
    {
        var video = post.Videos.FirstOrDefault();
        if (video == null)
        {

        }
        else
        {
    <div class="col-md-4" style="height:500px;">
        <div style="float:left;width:60px;"><img src="~/images/Contributors/@post.Contributor.Avatar" class="img-circle" width="50" height="50" /></div>
        <div style="float:left"><h4><b>@post.Contributor.Name</b></h4></div>
        <br />
        <iframe width="100%" height="75%" src="@video.ApiLink" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

        <div style="float:left"><h4><b>@post.Title</b></h4></div>
        <div style="float:right">
            <h4>
                <a href="/home/postdetail?id=@post.ID"><i style="font-size:20px;" class="fa fa-eye"></i></a>
            </h4>

        </div>
    </div>
        }


    }
</div>
<hr />

<h3>Top-Viewed Posts</h3>
<hr />
<div class="row">
    @foreach (Post post in ViewBag.Posts)
    {
        var photo = post.Photos.FirstOrDefault();
        if (photo == null)
        {

        }
        else
        {
    <div class="col-md-4" style="height:500px;">
        <div style="text-align:left"><h4><b>@post.Title</b></h4></div>
        @if (post.Description.ToString().Length > 100)
        {
            <div style="text-align:left"><b>@post.Description.ToString().Substring(0, 100)....</b></div>
        }
        else
        {
            <div style="text-align:left"><b>@post.Description</b></div>

        }
        <div style="width:100%;height:75%;background-image:url(/images/Posts/@photo.Link);background-size:cover;background-position:center"></div>

        <div style="float:left;width:60px;"><img src="~/images/Contributors/@post.Contributor.Avatar" class="img-circle" width="50" height="50" /></div>
        <div style="float:left"><h4><b>@post.Contributor.Name</b></h4></div>
        <div style="float:right">
            <h4>
                <a href="/home/postdetail?id=@post.ID"><i style="font-size:20px;" class="fa fa-comment-o"></i></a>
                <a href="/home/postdetail?id=@post.ID"><i style="font-size:20px;" class="fa fa-eye"></i></a>
            </h4>

        </div>
    </div>
        }

    }

</div>
